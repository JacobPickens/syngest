CHIT DUMP SYSTEM — GPT EXECUTION CONTRACT (ZIP-ENFORCED)

This document is the authoritative execution contract for the
CHIT DUMP snapshot system. It defines how ChatGPT MUST interpret,
process, modify, and return code.

This contract is absolute. No prior conversation, memory, repository,
or external context may override it.

============================================================
1) SOURCE OF TRUTH (ABSOLUTE)
============================================================

When a file named:

  dump_vX.Y.Z.zip

is uploaded, it is the ONLY source of truth.

ChatGPT MUST:
- Ignore all prior context
- Ignore any previously discussed code
- Treat the uploaded ZIP as the complete and authoritative codebase

============================================================
2) ZIP FORMAT (REQUIRED)
============================================================

The uploaded ZIP MUST contain exactly ONE top-level directory:

  dump_vX.Y.Z/

Inside that directory MUST be:

- dump.meta.json          (REQUIRED, authoritative instructions)
- dump.part_XXXX.txt      (one or more parts)

No other files or directories are permitted.

If the ZIP does not meet this structure, ChatGPT MUST refuse to proceed.

============================================================
3) dump.meta.json (AUTHORITATIVE)
============================================================

dump.meta.json is the first file ChatGPT MUST read.

It defines:
- format identifier
- dump version
- toolchain version
- ordered list of part files
- processing instructions

Example required fields:

{
  "format": "chitdump-multipart-v1",
  "transport": "zip",
  "version": "vX.Y.Z",
  "toolchainVersion": "vA.B.C",
  "parts": [
    "dump.part_0001.txt",
    "dump.part_0002.txt"
  ],
  "instructions": {
    "howToUse": [
      "Unzip the archive",
      "Read dump.meta.json first",
      "Process dump parts in listed order",
      "Each part contains FILE blocks",
      "Each FILE block is base64 + gzip JSON: { path, content }"
    ]
  }
}

ChatGPT MUST follow dump.meta.json exactly.

============================================================
4) DUMP PART FORMAT
============================================================

Each dump.part_XXXX.txt contains one or more FILE blocks.

FILE blocks are delimited by the exact line:

  ---FILE---

Each FILE block is:
- base64 encoded
- gzip compressed
- JSON with the structure:

{
  "path": "<relative/path/within/project>",
  "content": "<full file contents>"
}

ChatGPT MUST:
- Decode base64
- Gunzip
- Parse JSON
- Reconstruct files exactly at the specified paths

============================================================
5) USER TRIGGER PHRASE
============================================================

If the user uploads a dump ZIP and says:

  "this is the code"

That instruction is COMPLETE.

ChatGPT MUST:
- Unzip the archive conceptually
- Load dump.meta.json
- Reconstruct the full codebase
- Proceed without asking questions

ChatGPT MUST NOT request clarification.

============================================================
6) CHANGE REQUEST HANDLING
============================================================

When the user requests changes to the code:

- ChatGPT MUST base all changes solely on the reconstructed dump
- ChatGPT MUST NOT invent, omit, or assume files
- ChatGPT MUST explain changes in plain language

============================================================
7) RETURN ARTIFACT ENFORCEMENT (MANDATORY)
============================================================

When ChatGPT returns a FULL CODEBASE, SNAPSHOT, or UPDATED DUMP:

- ChatGPT MUST return the result ONLY as a ZIP archive
- ChatGPT MUST NOT inline multiple files in chat
- ChatGPT MUST NOT return unzipped directories
- ChatGPT MUST NOT return partial dumps

The ZIP MUST:
- Be named using the pattern:

    dump_vX.Y.Z.zip

- Contain a valid chitdump multipart structure
- Include dump.meta.json and all referenced parts

If ChatGPT cannot return a ZIP, it MUST refuse to answer
and state that ZIP return is required by contract.

============================================================
8) ZIP RETURN SELF-CHECK (REQUIRED)
============================================================

Before responding, ChatGPT MUST internally check:

- Is this a full codebase or snapshot?
- Does this involve more than one file?
- Is this larger than a trivial patch?

If YES to any:
→ The response MUST be a ZIP archive.

If ChatGPT detects it is about to return multiple files
without zipping them, it MUST STOP and correct itself.

============================================================
9) SMALL RESPONSES EXCEPTION
============================================================

ZIP enforcement does NOT apply when:

- Returning a single small snippet
- Explaining logic without returning files
- Providing guidance only

In these cases, inline text is allowed.

============================================================
10) BACKWARD COMPATIBILITY
============================================================

If an older (non-ZIP) dump format is uploaded:

- ChatGPT MAY attempt to process it
- BUT MUST warn that ZIP multipart dumps are now required

============================================================
11) FAILURE CONDITIONS
============================================================

ChatGPT MUST refuse to proceed if:

- dump.meta.json is missing
- dump.meta.json is invalid JSON
- referenced dump.part files are missing
- ZIP structure is incorrect
- The user requests a full return without allowing ZIP output

============================================================
12) FINAL RULE
============================================================

Any full-code operation:
→ ZIP IN
→ ZIP OUT
→ No exceptions

============================================================
END OF CONTRACT
============================================================
